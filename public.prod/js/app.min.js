/* dynamic-table-demo - v0.0.1 - 2015-03-14 */

function setFormFocus(a){if(a.is(":visible")){var b=a.find(".has-error");0==b.length&&(b=a),b.find(".form-control, input").each(function(a,b){var c=$(b);return!c.is(":visible")||c.prop("disabled")||c.prop("readonly")?void 0:(c.focus(),!1)})}}function validateFormField(a){var b=a.closest("form"),c=a.attr("name"),d=(a.val(),(new Date).getTime()),e={};b.find("[type=hidden]").each(function(a,b){b=$(b),e[b.attr("name")]=b.val()});var f={};$.each(b.serializeArray(),function(a,b){f[b.name]=b.value}),$.ajax({url:b.attr("action"),data:{query:"validate",field:c,form:f},success:function(e){var f=b.data("validation-"+c);if("undefined"==typeof f&&(f={valid:!0,timestamp:0,messages:[]}),!(d<f.timestamp)){f={valid:e.valid,timestamp:d,messages:e.messages},b.data("validation-"+c,f);var g=a.closest(".form-group"),h=g.find("div.help-block");if(f.valid)g.removeClass("has-error"),h.empty();else{g.addClass("has-error");var i=$('<div class="help-block"></div>'),j=$('<ul class="list-unstyled icon-list error-list"></ul>');$.each(f.messages,function(a,b){$("<li></li>").text(b).appendTo(j)}),i.append(j),h.replaceWith(i)}}}})}function initModalForm(a){a.find("button[type=submit]").off("click").on("click",function(){a.find("form").ajaxSubmit({success:function(b){a.find(".modal-body").html(b)}})})}$(document).on("keypress","[data-on-enter]",function(e){return 13==e.keyCode?(eval($(this).attr("data-on-enter")),!1):void 0}),$(document).on("blur","[data-on-blur]",function(e){var code=$(this).attr("data-on-blur");setTimeout(function(){eval(code)},500)});